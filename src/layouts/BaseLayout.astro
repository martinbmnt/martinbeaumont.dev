---
import '~styles/global.scss';

import HeadCommon from '~components/Head/HeadCommon.astro';
import HeadFont from '~components/Head/HeadFont.astro';
import HeadSEO from '~components/Head/HeadSEO.astro';

import { SITE } from 'src/config';
import Header from '~components/Header/Header.astro';
import Footer from '~components/Footer/Footer.astro';
import BackToTop from '~components/Content/BackToTop.astro';
import { ViewTransitions, fade } from 'astro:transitions';

export interface Props {
  title: string;
  description?: string;
  image?: {
    src?: string;
    alt?: string;
  };
  articleSection?: string | boolean;
  publishDate?: string;
  updateDate?: string | false;
  class?: string;
}

const content = Astro.props as Props;
---

<html dir="ltr" lang={SITE.language.slice(0, 2)} prefix="og: https://ogp.me/ns#">
  <head>
    <ViewTransitions />
    <HeadCommon title={content.title} />
    <HeadFont />
    <HeadSEO {...content} />
  </head>

  <body id="top">
    <nav class="skip" aria-label="AccÃ¨s rapide">
      <ul class="skip-list">
        <li class="skip-list__item">
          <a href="#content" class="skip-list__link">Aller au contenu</a>
        </li>
      </ul>
    </nav>
    <Header transition:persist />
    <main id="content" class={content.class} transition:animate={fade({ duration: '0.2s' })}>
      <slot />
    </main>
    <BackToTop />
    <Footer transition:persist />
  </body>
</html>
