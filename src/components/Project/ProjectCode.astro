---
import { createHighlighter } from "shiki";

export interface Props {
  code: string;
  lang: string;
  title: string;
}

const content = Astro.props as Props;

const highlighter = await createHighlighter({
  langs: [content.lang],
  themes: ['github-dark'],
});

const code = highlighter.codeToHtml(content.code, {
  lang: content.lang,
  theme: 'github-dark',
});
---
<figure class="portfolio_item__code_block">
  <div set:html={code} />
  <figcaption>{content.title}</figcaption>
</figure>
