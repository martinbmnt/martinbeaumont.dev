---
function formatDate(datetime: string): string {
  // @ts-ignore
  return new Date(datetime).toLocaleDateString(undefined, { dateStyle: 'medium' });
}

export interface Props {
  datetime: string;
}

const { datetime } = Astro.props;

---

<time datetime={datetime}>{formatDate(datetime)}</time>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    Array.from(document.querySelectorAll('time')).map(time => time.textContent = new Date(time.dateTime).toLocaleDateString(undefined, {dateStyle: 'medium'}))
  });
</script>
